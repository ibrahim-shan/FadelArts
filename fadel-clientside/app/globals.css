@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-body);
  --font-heading: var(--font-heading);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  /* Light theme based on provided palette */
  --background: #f8f8f8; /* off-white canvas */
  --foreground: #2c2c2c; /* soft black for primary text */
  /* Theme-aware text tokens */
  --heading-foreground: #333333;
  --nav-foreground: #2f4f4f;
  --card: #ffffff;
  --card-foreground: #2c2c2c;
  --popover: #ffffff;
  --popover-foreground: #2c2c2c;
  /* Darken primary for better contrast with white text */
  --primary: #9c6f00; /* accessible gold */
  --primary-foreground: #ffffff; /* text on gold */
  --primary-hover: #8a6100; /* hover shade (darker) */
  --primary-active: #755200; /* active shade (darker) */
  --secondary: #efefef; /* subtle surfaces */
  --secondary-foreground: #2c2c2c;
  --muted: #f2f2f2; /* muted backgrounds */
  --muted-foreground: #6b6b6b; /* secondary text */
  --accent: #4682b4; /* accent is brand blue */
  --accent-foreground: #ffffff;
  --accent-hover: #3a719b;
  --accent-active: #325f82;
  --destructive: #dc2626; /* standard red for destructive */
  --border: #d3d3d3; /* subtle grey for borders */
  --input: #d3d3d3;
  --ring: #9c6f00; /* focus ring matches primary */
  /* Optional dedicated CTA tone (warm) */
  --cta: #b8860b;
  --cta-foreground: #0a0a0a;
  --cta-hover: #a9790a;
  --cta-active: #936c09;
  /* Charts keep defaults for now */
  --chart-1: #4682b4; /* brand blue */
  --chart-2: #2f4f4f; /* deep teal */
  --chart-3: #b8860b; /* warm gold */
  --chart-4: #cd853f; /* burnt orange */
  --chart-5: #6b6b6b; /* neutral grey */
  /* Sidebar */
  --sidebar: #ffffff;
  --sidebar-foreground: #2c2c2c;
  --sidebar-primary: #b8860b;
  --sidebar-primary-foreground: #0a0a0a;
  --sidebar-accent: #e8f0f2; /* soft accent wash */
  --sidebar-accent-foreground: #2c2c2c;
  --sidebar-border: #e6e6e6;
  --sidebar-ring: #b8860b;

  /* Layout & motion tokens */
  --container-max: 1200px;
  --content-max: 70ch;
  --gutter: clamp(16px, 4vw, 32px);
  --easing: cubic-bezier(0.2, 0.8, 0.2, 1);
  --duration-1: 150ms;
  --duration-2: 250ms;

  /* Shadow scale */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 12px 32px rgba(0, 0, 0, 0.16);
}

.dark {
  /* Dark theme counterparts */
  --background: #121212;
  --foreground: #efefef;
  --heading-foreground: #efefef;
  --nav-foreground: #a7c0c0; /* lighter teal for contrast on dark */
  --card: #1a1a1a;
  --card-foreground: #efefef;
  --popover: #1a1a1a;
  --popover-foreground: #efefef;
  /* Dark mode: slightly darker gold for contrast with white text */
  --primary: #b88900; /* darker gold */
  --primary-foreground: #ffffff;
  --primary-hover: #a77d00;
  --primary-active: #936f00;
  --secondary: #222222;
  --secondary-foreground: #efefef;
  --muted: #1f1f1f;
  --muted-foreground: #a3a3a3;
  --accent: #5da9dc; /* blue accent on dark */
  --accent-foreground: #0a0a0a;
  --accent-hover: #4e92bf;
  --accent-active: #417aa1;
  --destructive: #f04438;
  --border: rgba(255, 255, 255, 0.08);
  --input: rgba(255, 255, 255, 0.12);
  --ring: #b88900;
  /* Chart palette adjusted for dark */
  --chart-1: #5da9dc; /* blue */
  --chart-2: #3b6b6b; /* teal */
  --chart-3: #daa520; /* gold */
  --chart-4: #e0a066; /* warm orange */
  --chart-5: #a3a3a3; /* neutral */
  /* Sidebar */
  --sidebar: #151515;
  --sidebar-foreground: #efefef;
  --sidebar-primary: #daa520;
  --sidebar-primary-foreground: #0a0a0a;
  --sidebar-accent: #1f1f1f;
  --sidebar-accent-foreground: #efefef;
  --sidebar-border: rgba(255, 255, 255, 0.08);
  --sidebar-ring: #daa520;
}

@layer base {
  body {
    @apply bg-background text-foreground;
    font-family:
      var(--font-body),
      system-ui,
      -apple-system,
      Segoe UI,
      Roboto,
      Arial,
      "Noto Sans",
      "Apple Color Emoji",
      "Segoe UI Emoji",
      "Segoe UI Symbol",
      sans-serif;

    transition-property: color, background-color;
    transition-duration: var(--duration-2);
    transition-timing-function: var(--easing);
  }
  /* Hide site chrome on admin pages */
  body[data-admin="true"] header,
  body[data-admin="true"] footer {
    display: none !important;
  }
  /* Headings use Montserrat (semi-geometric), brand color #333333 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading), system-ui, Arial, Helvetica, sans-serif;
    color: var(--heading-foreground);
    font-weight: 600;
    letter-spacing: 0.01em;

    transition: color var(--duration-2) var(--easing);
  }
  /* Fluid type ramp for large headings */
  h1 {
    font-size: clamp(32px, 4.5vw, 56px);
    line-height: 1.1;
  }
  h2 {
    font-size: clamp(24px, 3.2vw, 40px);
    line-height: 1.2;
  }
  h3 {
    font-size: clamp(20px, 2.6vw, 28px);
    line-height: 1.3;
  }
  /* CTA buttons should use heading font */
  button,
  .btn,
  [role="button"] {
    font-family: var(--font-heading), system-ui, Arial, Helvetica, sans-serif;
    font-weight: 600;
  }
  /* Navigation, subtitles, labels: Montserrat Light, refined and airy */
  nav,
  .subtitle,
  .label,
  .nav {
    font-family: var(--font-heading), system-ui, Arial, Helvetica, sans-serif;
    font-weight: 300;
    color: var(--nav-foreground);
    letter-spacing: 0.02em;

    transition: color var(--duration-2) var(--easing);
  }
  /* Text accent utility for highlights in body copy */
  .text-brand-accent {
    color: #b88860;
  }
  /* Brand-default link styles */
  a {
    color: var(--primary);
    text-underline-offset: 3px;
    transition: color var(--duration-1) var(--easing);
  }
  a:hover {
    color: var(--primary-hover);
    text-decoration-thickness: 2px;
  }
  /* Ensure nav links keep nav color rather than global link color */
  nav a {
    color: var(--nav-foreground);
  }
  nav a:hover {
    color: var(--accent);
  }
  /* Selection and focus states */
  ::selection {
    background: var(--accent);
    color: var(--accent-foreground);
  }
  *:focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
  }

  .range-input::-webkit-slider-thumb {
    pointer-events: auto;
  }
  .range-input::-moz-range-thumb {
    pointer-events: auto;
  }
  /* Let Lenis control scroll behavior */
  html {
    scroll-behavior: auto;
  }

  /* Media defaults */
  img,
  video {
    max-width: 100%;
    height: auto;
    display: block;
  }
  /* Prevent native image drag ghost on desktop while carousels are draggable */
  img {
    -webkit-user-drag: none;
    user-select: none;
  }

  /* Form baseline */
  input,
  textarea,
  select {
    background: var(--background);
    color: var(--foreground);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 0.625rem 0.75rem;
    transition:
      border-color var(--duration-1) var(--easing),
      box-shadow var(--duration-1) var(--easing);
  }
  input::placeholder,
  textarea::placeholder {
    color: var(--muted-foreground);
  }
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: color-mix(in oklab, var(--ring), #000 0%);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring), transparent 70%);
  }

  /* Scrollbar (WebKit) */
  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  *::-webkit-scrollbar-track {
    background: var(--muted);
  }
  *::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 999px;
    border: 2px solid var(--muted);
  }
  /* Scrollbar (Firefox) */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--accent) var(--muted);
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      /* transition: none !important; */
      scroll-behavior: auto !important;
    }
  }
}

@layer utilities {
  .container {
    max-width: var(--container-max);
    padding-inline: var(--gutter);
    margin-inline: auto;
  }
  .prose-max {
    max-width: var(--content-max);
  }
  .shadow-brand-sm {
    box-shadow: var(--shadow-sm);
  }
  .shadow-brand-md {
    box-shadow: var(--shadow-md);
  }
  .shadow-brand-lg {
    box-shadow: var(--shadow-lg);
  }
  .shadow-brand-xl {
    box-shadow: var(--shadow-xl);
  }
  .transition-base {
    transition: all var(--duration-2) var(--easing);
  }
  /* Hide scrollbars cross-browser */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    width: 0;
    height: 0;
    background: transparent;
  }
}
